<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>
    <!-- Anchor our settings *inside* Website ▸ SEO group -->
    <record id="res_config_settings_view_form_inherit_website_ai_chat_min_seo" model="ir.ui.view">
      <field name="name">res.config.settings.view.form.inherit.website.ai.chat.min.seo</field>
      <field name="model">res.config.settings</field>
      <field name="inherit_id" ref="website.res_config_settings_view_form"/>
      <field name="priority" eval="25"/>
      <field name="arch" type="xml">
        <!-- Robust selector: the Website app's SEO block. Works if either name='seo' or string='SEO'. -->
        <xpath expr="//app[@name='website']//block[@name='seo' or @string='SEO']" position="after">
          <setting id="ai_settings_under_seo" string="AI Settings" help="Configure website AI chat behavior and grounding.">
            
            <div class="row mt16">
              <label class="col-3 o_light_label" for="ai_provider"/>
              <field class="col-9" name="ai_provider"/>
            </div>
            <div class="row mt8">
              <label class="col-3 o_light_label" for="ai_model"/>
              <field class="col-9" name="ai_model" placeholder="gpt-3.5-turbo"/>
            </div>

            <div class="row mt16">
              <label class="col-3 o_light_label" for="ai_api_key"/>
              <field class="col-9" name="ai_api_key" password="True" placeholder="sk-..."/>
            </div>

            <div class="row mt8">
              <label class="col-3 o_light_label" for="docs_folder"/>
              <field class="col-9" name="docs_folder" placeholder="/opt/odoo/data/pdfs"/>
            </div>

            <div class="row mt16">
              <label class="col-3 o_light_label" for="sys_instruction"/>
              <field class="col-9" name="sys_instruction" widget="text"
                     placeholder="Keep answers concise. If unsure, say you don’t know."/>
            </div>

            <div class="row mt16">
              <label class="col-3 o_light_label" for="allowed_questions"/>
              <field class="col-9" name="allowed_questions" widget="text"
                     placeholder="^what\b&#10;^how\b"/>
            </div>

            <div class="row mt16">
              <label class="col-3 o_light_label" for="context_only"/>
              <field class="col-9" name="context_only"/>
            </div>

            <div class="text-muted mt8">
              These settings affect the website chat bubble. Only Admins or users in <b>Website AI Chat / User</b> will see the bubble.
            </div>
          </setting>
        </xpath>
      </field>
    </record>
  </data>
</odoo>
